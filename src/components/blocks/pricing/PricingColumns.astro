---
// Pricing plabs Section
// ------------
// Description: A section with a list of 3 pricing plans with toggle to switch between monthly and annual pricing.

// Components
// - Layout
import Section from '../../ui/Section.astro'
import Row from '../../ui/Row.astro'
import Col from '../../ui/Col.astro'
// - UI
import PricingTable from '../../ui/pricing-tables/PricingTable.astro'
import Toggle from '../../ui/forms/form-elements/Toggle.astro'

// Content
import pricingTablesData from '../../../data/json-files/pricingTablesdata.json'

// Script
import PricingChange from '../../scripts/PricingPlanChange.astro'

// Props
type PricingTableData = {
	header: {
		title: string
		subtitle: string
		currency: string
		price: string
		priceLabel: string
		priceMonthly?: string
		priceLabelMonthly?: string
		buttonName: string
		buttonLink: string
	}
	body?: {
		listItems: Array<{ listItem: string }>
	}
	footer?: {
		buttonName: string
		buttonLink: string
	}
	type: 'basic' | 'featured'
}

const pricingData: PricingTableData[] = pricingTablesData as PricingTableData[]
---

<Section>
	<Row>
		<Col span="12" align="center" classes="flex items-center justify-center gap-4 mb-12">
			<div class="pricing-toggle flex items-center justify-center gap-8">
			  <span id="monthlyLabel" class="text-primary-500">Mensual</span>
			  <label class="relative inline-flex cursor-pointer items-center">
			    <input
			      type="checkbox"
			      id="pricingType"
			      class="peer sr-only"
			    />
			    <div class="peer h-6 w-11 rounded-full bg-neutral-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-neutral-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:border-neutral-600 dark:bg-neutral-700 dark:peer-focus:ring-primary-800"></div>
			  </label>
			  <span id="annualLabel">Anual</span>
			</div>
		</Col>
		{
			pricingData.map((item, key) => (
				<Col span="4">
					<PricingTable data={item} listType="checklist" />
				</Col>
			))
		}
	</Row>
</Section>
<PricingChange />
